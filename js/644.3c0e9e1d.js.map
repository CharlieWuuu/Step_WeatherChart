{"version":3,"file":"js/644.3c0e9e1d.js","mappings":"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","sources":["webpack://taiwan_climate/./src/views/TaiwanClimate.vue","webpack://taiwan_climate/./src/views/TaiwanClimate.vue?fcd7"],"sourcesContent":["<template>\r\n    <h1>5. 串接資料與圖表</h1>\r\n    <div class=\"select_container\">\r\n        <p>觀測站：</p>\r\n        <select\r\n            v-model=\"selectedStationIndex\"\r\n            v-on:change=\"getClimateData(selectedStationIndex)\"\r\n        >\r\n            <option\r\n                v-for=\"(station, index) in Stations\"\r\n                :value=\"index\"\r\n                :key=\"index\"\r\n            >\r\n                {{ station.station.StationName }}\r\n            </option>\r\n        </select>\r\n        <p>\r\n            {{ Stations_Name == '玉山' ? '高地氣候' : chartData.datasets[1].data[0] < 18 ? '副熱帶季風' : '熱帶季風' }}\r\n        </p>\r\n    </div>\r\n    <div\r\n        class=\"chart-container\"\r\n        style=\"position: relative; width: 350px; height: 500px\"\r\n    >\r\n        <Bar\r\n            v-if=\"loaded\"\r\n            class=\"Chart\"\r\n            :data=\"chartData\"\r\n            :options=\"chartOptions\"\r\n            style=\"width: 100%; height: 100%\"\r\n        />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { Bar } from 'vue-chartjs';\r\n\r\nimport { Chart as ChartJS, Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale, PointElement, LineController, LineElement } from 'chart.js';\r\n\r\nChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale, PointElement, LineController, LineElement);\r\n\r\nexport default {\r\n    name: 'BarChart',\r\n    components: { Bar },\r\n\r\n    data: () => ({\r\n        selectedStationIndex: 0,\r\n        loaded: false,\r\n        Stations: {},\r\n        chartData: {\r\n            labels: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],\r\n            datasets: [\r\n                {\r\n                    type: 'bar',\r\n                    label: '降水量',\r\n                    backgroundColor: '#46A3FF',\r\n                    data: [40, 20, 78, 60, 128, 170, 153, 112, 80, 72, 63, 12],\r\n                    order: 2,\r\n                    yAxisID: 'left',\r\n                },\r\n                {\r\n                    type: 'line',\r\n                    label: '氣溫',\r\n                    backgroundColor: '#FF5151',\r\n                    borderColor: '#FF5151',\r\n                    data: [20, 26, 28, 30, 34, 35, 36, 34, 28, 25, 23, 21],\r\n                    order: 1,\r\n                    yAxisID: 'right',\r\n                },\r\n            ],\r\n        },\r\n        chartOptions: {\r\n            responsive: true,\r\n            scales: {\r\n                left: {\r\n                    position: 'left',\r\n                    suggestedMin: 0,\r\n                    suggestedMax: 1000,\r\n                    ticks: {\r\n                        stepSize: 100,\r\n                    },\r\n                },\r\n                right: {\r\n                    position: 'right',\r\n                    suggestedMin: -10,\r\n                    suggestedMax: 40,\r\n                    ticks: {\r\n                        stepSize: 10,\r\n                    },\r\n                },\r\n            },\r\n        },\r\n        chartKey: 0, // 添加一個鍵，用於強制重新渲染圖表\r\n    }),\r\n    async mounted() {\r\n        try {\r\n            await this.getClimateData(22);\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        async getClimateData(i) {\r\n            this.loaded = false;\r\n            const response = await fetch('https://opendata.cwa.gov.tw/api/v1/rest/datastore/C-B0027-001?Authorization=CWB-C67AAE13-37AA-4F9D-892F-E25483690887');\r\n            if (!response.ok) {\r\n                throw new Error('Failed to fetch data');\r\n            }\r\n\r\n            const data = await response.json();\r\n            this.Stations = data.records.data.surfaceObs.location;\r\n\r\n            const targetData = data.records.data.surfaceObs.location[i];\r\n\r\n            const station = targetData.station;\r\n            const stationObsStatistics = targetData.stationObsStatistics;\r\n            const stationsName = station.StationName;\r\n            this.Stations_Name = stationsName;\r\n\r\n            const Precipitation_Arr = stationObsStatistics.Precipitation.monthly.map((element) => parseFloat(element.Accumulation));\r\n            this.chartData.datasets[0].data = Precipitation_Arr;\r\n\r\n            const AirTemperature_Arr = stationObsStatistics.AirTemperature.monthly.map((element) => parseFloat(element.Mean));\r\n            this.chartData.datasets[1].data = AirTemperature_Arr;\r\n            console.log(targetData);\r\n            this.loaded = true; // 在數據加載後設置為true\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.select_container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    gap: 40px;\r\n    p {\r\n        font-size: 20px;\r\n    }\r\n    select {\r\n        border: none;\r\n        font-size: 20px;\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./TaiwanClimate.vue?vue&type=template&id=474c6a33\"\nimport script from \"./TaiwanClimate.vue?vue&type=script&lang=js\"\nexport * from \"./TaiwanClimate.vue?vue&type=script&lang=js\"\n\nimport \"./TaiwanClimate.vue?vue&type=style&index=0&id=474c6a33&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","style","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_hoisted_3","_cache","$event","_ctx","selectedStationIndex","onChange","$options","getClimateData","_renderList","Stations","station","index","value","key","StationName","_hoisted_4","_toDisplayString","Stations_Name","chartData","datasets","data","_hoisted_5","loaded","_createBlock","_component_Bar","options","chartOptions","_createCommentVNode","ChartJS","register","Title","Tooltip","Legend","BarElement","CategoryScale","LinearScale","PointElement","LineController","LineElement","name","components","Bar","labels","type","label","backgroundColor","order","yAxisID","borderColor","responsive","scales","left","position","suggestedMin","suggestedMax","ticks","stepSize","right","chartKey","mounted","this","e","console","error","methods","i","response","fetch","ok","Error","json","records","surfaceObs","location","targetData","stationObsStatistics","stationsName","Precipitation_Arr","Precipitation","monthly","map","element","parseFloat","Accumulation","AirTemperature_Arr","AirTemperature","Mean","log","__exports__","render"],"sourceRoot":""}